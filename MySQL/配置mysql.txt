安装 mysql-5.7.5-m15-winx64
win7 64位下如何安装配置mysql-5.7.5-m15-winx64

距离上次安装MySQL已经过去好久了。步骤这些，有可能会忘记。简单记录一下吧。（参考了一些网络上的博客。）

1.mysql-5.7.5-m15-winx64.zip下载
官方网站下载地址：http://cdn.mysql.com/Downloads/MySQL-5.7/mysql-5.7.5-m15-winx64.zip

 

2.解压到D:\MySqlDataBase
 

3.在D:\MySqlDataBase\mysql-5.7.5-m15-winx64下新建my.ini配置文件
内容如下：

 


复制代码
####################配置文件开始###################

 # For advice on how to change settings please see

 # http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html

 # *** DO NOT EDIT THIS FILE. It's a template which will be copied to the

 # *** default location during install, and will be replaced if you

 # *** upgrade to a newer version of MySQL.

 [client]

 default-character-set=utf8

 

 [mysqld]

 port=3306

 basedir  ="D:\MySqlDataBase\mysql-5.7.5-m15-winx64/"

 datadir  ="D:\MySqlDataBase\mysql-5.7.5-m15-winx64/data/"

 tmpdir   ="D:\MySqlDataBase\mysql-5.7.5-m15-winx64/data/"

 socket   ="D:\MySqlDataBase\mysql-5.7.5-m15-winx64/data/mysql.sock"

 log-error="D:\MySqlDataBase\mysql-5.7.5-m15-winx64/data/mysql_error.log"

 

 #server_id = 2

 #skip-locking

 

 max_connections=100

 table_open_cache=256

 query_cache_size=1M

 

 tmp_table_size=32M

 thread_cache_size=8

 

 innodb_data_home_dir="D:\MySqlDataBase\mysql-5.7.5-m15-winx64/data/"

 innodb_flush_log_at_trx_commit =1

 innodb_log_buffer_size=128M

 innodb_buffer_pool_size=128M

 innodb_log_file_size=10M

 innodb_thread_concurrency=16

 innodb-autoextend-increment=1000

 join_buffer_size = 128M

 sort_buffer_size = 32M

 read_rnd_buffer_size = 32M

 max_allowed_packet = 32M

 explicit_defaults_for_timestamp=true

 sql-mode="STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"

 #sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES

####################配置文件结束###################

 
复制代码
 

 

重点是以下配置，其中datadir的目录名称必须是：D:\MySqlDataBase\mysql-5.7.5-m15-winx64/data/。

 

4.在windows系统环境变量path，加入如下内容
D:\mysql\mysql-5.7.5-m15-winx64\bin;（注意加分号）

 

5、将mysql注册为windows系统服务
具体操作是在命令行中执行以下命令（需要以管理员身份运行命令行）：

需要切换到bin目录，否则，会将服务目录指定为C:\Program Files\MySQL\MySQL Server 5.7\mysqld

增加服务命令：mysqld install MySQL --defaults-file="D:\mysql\mysql-5.7.5-m15-winx64\my.ini" 

移除服务命令为：mysqld remove

 

6.第5步成功后，打开系统服务管理
可以看到mysql系统服务

在命令行启动mysql命令为： net start mysql

     关闭mysql命令为：net stop mysql

 

7.修改root的密码为wenthink
命令行执行：mysql –uroot

mysql>show databases;

mysql>use mysql;
mysql> UPDATE user SET password=PASSWORD('wenthink') WHERE user='root';

　　mysql> FLUSH PRIVILEGES;

mysql> QUIT

 

 远程登陆配置
允许root用户在任何地方进行远程登录，并具有所有库任何操作权限，具体操作如下：

1）在本机先使用root用户登录mysql：

命令行执行：mysql -u root -p

输入密码（第7步中设置的密码）：wenthink

2）进行授权操作：

mysql>GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'youpassword' WITH GRANT OPTION;

重载授权表：

mysql>FLUSH PRIVILEGES;

退出mysql：quit